{% load static %}

<!DOCTYPE HTML>
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="copyright" content="Legit Crew, https://www.devme.com/">
    <title>{% if obj.site_name %} {{obj.site_name}} {% else %} {{site_name}} {% endif %} / {{title}}</title>
    <meta name="description" content="{{obj.description}}">
    <meta name="author" content="{{designer_name}}">
    <meta name="theme-color" content="{{obj.theme_color}}">
    <meta name="msapplication-navbutton-color" content="{{obj.theme_color}}">
    <meta name="apple-mobile-web-app-status-bar-style" content="{{obj.theme_color}}">
    <meta name="keywords" content="{{obj.key_words}}">
    <meta property="og:site_name" content="{{obj.site_name}}">
    <meta property="og:url" content="{{obj.site_url}}">
    <meta http-equiv="Content-type" content="text/html;charset:utf-8">
    <meta property="og:type" content="website">
    <meta property="og:type" content="website">
    <meta property="twitter:site" content="https://twitter.com/Kevin36285655">
    <meta property="twitter:title" content="@Kevin36285655">
    <meta property="twitter:image" content="https://twitter.com/Kevin36285655/photo">
    <meta property="twitter:description" content="Life's Simple.">
    <meta property="twitter:text:title" content="Life's Simple.">
    <meta property="og:title" content="{{obj.site_name}} | {{title}}">
    <meta property="og:locale" content="en_US">
    <meta property="og:description" content="{{obj.description}}">
    <meta property="og:image" content="{{obj.favicon.url}}">
    <meta name="apple-mobile-web-app-title" content="{{obj.site_name}}">
    <meta name="application-name" content="{{obj.site_name}}">
    <meta name="msapplication-TileColor" content="{{obj.theme_color}}">
    <meta name="msapplication-config" content="{% static 'manager/assets/images/logos/browserconfig.xml' %}">
    <meta name="theme-color" content="#ffffff">
    <link rel="canonical" href="{{request.get_full_path}}" />
    <meta name="robots" content="index, follow" />
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    <link rel="shortcut icon" href="{{obj.favicon.url}}" type="image/x-icon">
    <link rel="stylesheet" href="{% static 'panel/assets/css/bootstrap.min.css' %}" />
    <link rel="stylesheet" href="{% static 'panel/assets/css/main.css' %}"/>
    <link rel="stylesheet" href="{% static 'panel/assets/css/theme1.css' %}"/>
    <script src="{% static 'panel/assets/js/jquery-3.5.1.min.js' %}"></script>
    <link rel="stylesheet" href="{% static 'panel/assets/css/style-starter.css' %}">
    <link rel="stylesheet" href="{% static 'panel/assets/css/custom.css' %}"/>
	{{data|json_script:"costs" }}
	<script type="text/javascript">
	window.onload = function () 
	{
		const json_data = JSON.parse(document.getElementById('costs').textContent);
		const newArray1=json_data.map(({month:label,total_cost:y})=>({label,y}));
		const newArray2=json_data.map(({month:label,rating:y})=>({label,y}));

		var chart1 = new CanvasJS.Chart("chartContainer1", 
		{
			theme: "light1", // "light2", "dark1", "dark2"
			animationEnabled: false, // change to true		
			title:{
				text: "Cost Analyzer"
			},
			axisX:{
				title: "Months of the year",
				crosshair: {
					enabled: true,
					snapToDataPoint: true
				}
			},
			axisY: {
				title: "Price in Ksh",
				valueFormatString: "##0.00 ksh",
				crosshair: {
					enabled: true,
					snapToDataPoint: true,
					labelFormatter: function(e) {
						return "$" + CanvasJS.formatNumber(e.value, "##0.00 ksh");
					}
				}
			},
			data: [
			{
				// Change type to "bar", "area", "spline", "pie",etc.
				type: "column",
				dataPoints:newArray1
			}
			]
		});
		chart1.render();

		var chart2 = new CanvasJS.Chart("chartContainer2", 
		{
			theme: "light1", // "light2", "dark1", "dark2"
			animationEnabled: false, // change to true		
			title:{
				text: "Rating in kwh against Months"
			},
			axisX:{
				title: "Months of the year",
				crosshair: {
					enabled: true,
					snapToDataPoint: true
				}
			},
			axisY: {
				title: "Rating in KWh",
				valueFormatString: "##0.00 kwh",
				crosshair: {
					enabled: true,
					snapToDataPoint: true,
				}
			},
			data: [
			{
				// Change type to "bar", "area", "spline", "pie",etc.
				type: "column",
				dataPoints:newArray2
			}
			]
		});
		chart2.render();

		var chart3 = new CanvasJS.Chart("chartContainer3", 
		{
			theme: "light1", // "light2", "dark1", "dark2"
			animationEnabled: false, // change to true		
			title:{
				text: "Rating in kwh against Months"
			},
			axisX:{
				title: "Months of the year",
				crosshair: {
					enabled: true,
					snapToDataPoint: true
				}
			},
			axisY: {
				title: "Rating in KWh",
				valueFormatString: "##0.00 kwh",
				crosshair: {
					enabled: true,
					snapToDataPoint: true,
				}
			},
			data: [
			{
				// Change type to "bar", "area", "spline", "pie",etc.
				type: "pie",
				dataPoints:newArray2
			}
			]
		});
		chart3.render();

		var chart4 = new CanvasJS.Chart("chartContainer4", 
		{
			theme: "light1", // "light2", "dark1", "dark2"
			animationEnabled: false, // change to true		
			title:{
				text: "Rating in kwh against Months"
			},
			axisX:{
				title: "Months of the year",
				crosshair: {
					enabled: true,
					snapToDataPoint: true
				}
			},
			axisY: {
				title: "Rating in KWh",
				valueFormatString: "##0.00 kwh",
				crosshair: {
					enabled: true,
					snapToDataPoint: true,
				}
			},
			data: [
			{
				// Change type to "bar", "area", "spline", "pie",etc.
				type: "area",
				dataPoints:newArray2
			}
			]
		});
		chart4.render();

		var chart5 = new CanvasJS.Chart("chartContainer5", 
		{
			theme: "light1", // "light2", "dark1", "dark2"
			animationEnabled: false, // change to true		
			title:{
				text: "Cost Analyzer"
			},
			axisX:{
				title: "Months of the year",
				crosshair: {
					enabled: true,
					snapToDataPoint: true
				}
			},
			axisY: {
				title: "Rating in KWh",
				valueFormatString: "##0.00 kwh",
				crosshair: {
					enabled: true,
					snapToDataPoint: true,
				}
			},
			data: [
			{
				// Change type to "bar", "area", "spline", "pie",etc.
				type: "spline",
				dataPoints:newArray1
			}
			]
		});
		chart5.render();
	}
	</script>
</head>
<body>
	 <!-- header -->
        <header id="site-header" class="fixed-top">
          <section class="w3l-header-4">
            <div class="container">
              <nav class="navbar navbar-expand-lg navbar-light">
                <h1>
                    <a class="navbar-brand" href="{% url 'home' %}">
                        <span class="fa fa-lightbulb-o"  aria-hidden="true"></span>
                        {{obj.site_name}}
                    </a>
                </h1>
                <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarNav"
                  aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="fa icon-expand fa-bars"></span>
                  <span class="fa icon-close fa-times"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarNav">
                  <ul class="navbar-nav ml-auto">
                    <li class="nav-item active">
                      <a class="nav-link" href="{% url 'home' %}">Home </a>
                    </li>
                    <li class="nav-item @@services__active">
                      <a class="nav-link" href="{% url 'weekly consuption' %}">Weekly consuption</a>
                    </li> 
                    <li class="nav-item @@services__active">
                      <a class="nav-link" href="{% url 'analyzer' %}">Analyzer</a>
                    </li> 
                    <li class="nav-item @@services__active">
                      <a class="nav-link" href="{% url 'cost' %}">Cost results</a>
                    </li>
                    <li class="nav-item ml-3 text-md-left text-center">
                      <a href="{% url 'cost calculator' %}" class="btn btn-outline-primary btn-style mr-2">Cost calculator</a>
                    </li>
                  </ul>

                  <!-- //toggle switch for light and dark theme -->
                </div>
                <!-- toggle switch for light and dark theme -->
                <div class="mobile-position">
                  <nav class="navigation">
                    <div class="theme-switch-wrapper">
                      <label class="theme-switch" for="checkbox">
                        <input type="checkbox" id="checkbox">
                        <div class="mode-container" style="cursor:pointer;">
                          <i class="gg-sun"></i>
                          <i class="gg-moon"></i>
                        </div>
                      </label>
                    </div>
                  </nav>
                </div>
              </nav>
            </div>
          </section>
        </header>
        <!-- //header -->

  	<div class="container">
  		<div class="row" style="margin-top:150px">
	    	<div class="col-md-4 mx-auto">
	    		<form class="ActiveForm" novalidate>
                    <h5 class="mb-4">Select year</h5>
                    <select name="year" id="id_year" class="form-control">
                    	{% for item in years %}
                    	    <option value="{{item.year}}">{{item.year}}</option>
                    	{% empty %}
                    	<option value="" selected="" disabled="">No year found</option>
                    	{% endfor %}
                    </select>  
                    <button class="btn btn-style btn-primary w-100"> Submit</button>
                    </div>
                </form>
	    	</div>
	    </div>
  	</div>

    <div id="chartContainer1" style="height: 370px; width: 80%;margin:120px auto"></div>
    <hr>
    <div id="chartContainer2" style="height: 370px; width: 80%;margin:20px auto"></div>
    <hr>
    <div id="chartContainer3" style="height: 370px; width: 80%;margin:20px auto"></div>
    <hr>
    <div id="chartContainer4" style="height: 370px; width: 80%;margin:20px auto"></div>
    <hr>
    <div id="chartContainer5" style="height: 370px; width: 80%;margin:20px auto"></div>
    <!-- footer -->
         <section class="w3l-footer-29-main mt-3" id="footer">
          <div class="footer-29 py-5">
            <div class="container pb-lg-3">
              <div class="row footer-top-29">
                <div class="col-lg-4 col-md-4 footer-list-29 footer-1 mt-md-4">
                  <h6 class="footer-title-29">Contact Us</h6>
                  <ul>
                    <li>
                      <p><span class="fa fa-map-marker"></span>{{obj.site_name}}, {{obj.address}},
                        {{obj.location}}</p>
                    </li>
                    <li><a href="tel:{{obj.phone}}"><span class="fa fa-phone"></span> {{obj.phone}}</a></li>
                    <li><a href="mailto:{{obj.site_email}}" class="mail"><span class="fa fa-envelope-open-o"></span>
                        {{obj.site_email}}</a></li>
                  </ul>
                  <div class="main-social-footer-29 text-md-left text-center">
                    <a target="_blank" href="{{obj.facebook}}" class="facebook"><span class="fa fa-facebook"></span></a>
                    <a target="_blank" href="{{obj.twitter}}" class="twitter"><span class="fa fa-twitter"></span></a>
                    <a target="_blank" href="{{obj.instagram}}" class="instagram"><span class="fa fa-instagram"></span></a>
                    <a target="_blank" href="{{obj.whatsapp}}" class="google-plus"><span class="fa fa-whatsapp"></span></a>
                    <a target="_blank" href="{{obj.linkedin}}" class="linkedin"><span class="fa fa-linkedin"></span></a>
                  </div>
                </div>
                <div class="col-lg-4 col-md-4 col-12 footer-list-29 footer-4 mt-4">
                  <ul>
                    <h6 class="footer-title-29">Quick Links</h6>
                    <li><a href="{% url 'home' %}">Home page</a></li>
                    <li><a href="{% url 'weekly consuption' %}">Weekly Consuption</a></li>
                    <li><a href="#">Analyzer</a></li>
                    <li class="text-md-left text-center"><a href="{% url 'cost calculator' %}">Cost calculator</a></li>
                  </ul>
                </div>
                <div class="col-lg-4 col-md-4 footer-list-29 footer-3 mt-4">
                  <div class="properties">
                    <h6 class="footer-title-29">Recent Posts</h6>
                    <a class="d-grid twitter-feed" href="#">
                      <p>We are focused on providing our clients with the highest
                        level of quality and excellent customer support.</p>
                    </a>
                  </div>
                </div>
              </div>
              <div class="row bottom-copies">
                <p class="copy-footer-29 col-lg-8">Â© {% now 'Y' %} {{obj.site_name}}. All rights reserved | Design by <a
                    target="_blank" href="{{designer_link}}">{{designer_name}}</a></p>
                <ul class="list-btm-29 col-lg-4">
                  <li><a href="#">Privacy policy</a></li>
                  <li><a href="#">Terms of service</a></li>
                </ul>
              </div>
            </div>
          </div>
          <button onclick="topFunction()" id="movetop" class="bg-primary" title="Go to top">
            <span class="fa fa-level-up"></span>
          </button>
            {% if data.is_authenticated and data.is_staff %}
                <a href="javascript:void(0);" class="float" ><i class="fa fa-pencil my-float"></i></a>
            {% endif %}
        </section>
	<script src="{% static 'panel/assets/js/canvasjs.min.js' %}"> </script>
</body>
</html>