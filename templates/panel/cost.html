{% extends 'panel/base.html' %}
{% load static %}
{% load humanize %}
{% block body %}
<section class="w3l-about-breadcrumb">
    <div class="breadcrumb-bg breadcrumb-bg-about py-5">
        <div class="container py-lg-5 py-md-3">
            <h2 class="title text-capitalize">{{title}}</h2>
        </div>
    </div>
</section>
<section class="w3l-breadcrumb">
    <div class="container">
        <ul class="breadcrumbs-custom-path">
            <li><a href="/">Home</a></li>
            <li class="active"><span class="fa fa-arrow-right mx-2" aria-hidden="true"></span> {{title}}</li>
        </ul>
    </div>
</section>
<section class="w3l-about py-5" id="about">
    <div class="container py-lg-5 py-md-3">
        <div class="about-block">
            <h6 class="title-small text-center">Total cost of energy consuption in ICDC</h6>
           	<div class="mt-2 row">
           		<div class="col-12">
           			<div class="table-responsive">
           				<table class="table table hover table-striped">
           					<thead>
                                <tr>
                                    <th>#</th>
                                    <th>Name</th>
                                    <th>Account</th>
                                    <th>Equipment</th>
                                    <th>Quantity</th>
                                    <th>Details</th>
                                    <th>Device rating(Watts)</th>
                                    <th>Hours Used</th>
                                    <th>Created on</th>
                                    <th>Total Cost</th>
                                </tr>
                            </thead>
                            <tbody>
                            	{% for cost in costs %}
                            	<tr>
                            		<td>{{forloop.counter}}.</td>
                            		<td class="text-capitalize">{{cost.name|default:'Not set'}}</td>
                            		<td class="text-capitalize">{{cost.account|default:'Not set'}}</td>
                            		<td class="text-capitalize">{{cost.parent.name}}</td>
                            		<td>{{cost.quantity|intcomma|default:0}} </td>
                            		<td>{{cost.details|default:'Not set'}} </td>
                            		<td>{{cost.rating}} KW</td>
                            		<td>{{cost.hours_used}} Hrs</td>
                            		<td>{{cost.created_on|naturaltime}}</td>
                            		<td>Ksh {{cost.total_cost|intcomma|default:0}}</td>
                            	</tr>
                            	{% empty %}
                            	<tr>
    								<td colspan="10" class="text-center">
    									<p><i class="fa fa-exclamation-circle"></i> No data found</p>
    								</td>
    							</tr>
    							{% endfor %}
    							{% if total %}
    							<tr>
                                    <td colspan="9">Total Cost:</td>
                                    <td>Ksh {{total.total_cost__sum|intcomma|default:0}}</td>
                                </tr>
                                {% endif %}
                            </tbody>
           				</table>
           			</div>
           		</div>
           	</div>
        </div>
    </div>
</section>
{% endblock %}