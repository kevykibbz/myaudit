{% extends 'panel/base.html' %}
{% load static %}
{% load humanize %}
{% block body %}
<section class="w3l-about-breadcrumb">
    <div class="breadcrumb-bg breadcrumb-bg-about py-5">
        <div class="container py-5 py-md-3">
            <h2 class="title text-capitalize">{{title}}</h2>
        </div>
    </div>
</section>
<section class="w3l-breadcrumb">
    <div class="container">
        <ul class="breadcrumbs-custom-path">
            <li><a href="/">Home</a></li>
            <li class="active"><span class="fa fa-arrow-right mx-2" aria-hidden="true"></span> {{title}}</li>
        </ul>
    </div>
</section>
<section class="w3l-about py-5" id="about">
    <div class="container py-lg-5 py-md-3">
        <div class="about-block">
            <h6 class="title-small text-center">Total cost of energy consuption in ICDC</h6>
           	<div class="mt-2 row">
           		<div class="col-12 mx-auto">
           			<div class="table-responsive">
           				<table class="table table hover table-striped">
           					<thead>
                                <tr>
                                    <th>#</th>
                                    <th>Room</th>
                                    <th>Equipment</th>
                                    <th>Quantity</th>
                                    <th>Rating</th>
                                    <th>No of hours used</th>
                                    <th>Consumption</th>
                                    <th>Created on</th>
                                    <th>Total Cost</th>
                                </tr>
                            </thead>
                            <tbody>
                               {% for cost in costs %}
                            	<tr>
                            		<td>{{forloop.counter}}.</td>
                            		<td>{{cost.room}}</td>
                            		<td>{{cost.equipment}} </td>
                            		<td>{{cost.quantity|intcomma}} </td>
                            		<td>{{cost.rating|intcomma}} W</td>
                            		<td>{{cost.no_of_hours_used|intcomma}} Hours</td>
                            		<td>{{cost.consumption|intcomma}} kWh</td>
                            		<td>{{cost.created_on|naturaltime}}</td>
                            		<td>Ksh {{cost.total_cost|floatformat:2|intcomma|default:0}}</td>
                            	</tr>
                                {% empty %}
                                <tr>
                                    <td colspan="9" class="text-center">
                                        <div class=" text-center py-5">
                                            <img data-src="{% static 'panel/assets/images/search.svg' %}" class="width360 mb-3" />
                                            <h4><i class="ti-info-alt"></i> No data found</h4>
                                        </div>
                                    </td>
                                </tr>
                                {% endfor %}
                                {% if total %}
    							<tr class="bg-success text-light" style="font-size:18px;font-family:'tahoma'">
                                    <td colspan="8"><b>Total Cost:</b></td>
                                    <td><b>Ksh {{total.total_cost__sum|floatformat:2|intcomma|default:0}}</b></td>
                                </tr>
                                {% endif %}
                            </tbody>
                            <div>
		                        <ul class="mt-2 ml-2 pagination pagination-primary">
		                            {% if items.has_previous %}
		                            <li class="page-item active"><a class="page-link" href="{% url 'historical data' %}?page={{items.previous_page_number}}"><i class="zmdi zmdi-chevron-left"></i></a></li>
		                            {% endif %}
		                            {% if items.has_next %}
		                            <li class="page-item active"><a class="page-link" href="{% url 'historical data' %}?page={{items.next_page_number}}"><i class="zmdi zmdi-chevron-right"></i></a></li>
		                            {% endif %}
		                        </ul>
		                    </div>
           				</table>
           			</div>
           		</div>
           	</div>
        </div>
    </div>
</section>
{% endblock %}